function t(t,e){var o=this;this.container=t,this.observers=[],this.lastX=0,this.lastY=0;var i=!1,n=function(){i||(i=!0,requestAnimationFrame(function(){for(var t=o.observers,e=o.getState(),n=t.length;n--;)t[n].check(e);o.lastX=e.positionX,o.lastY=e.positionY,i=!1}))},r=e.handleScrollResize,s=this.handler=r?r(n):n;addEventListener("scroll",s,!0),addEventListener("resize",s,!0),addEventListener("DOMContentLoaded",function(){(o.mutationObserver=new MutationObserver(n)).observe(document,{attributes:!0,childList:!0,subtree:!0})})}function e(t){return this.offset=~~t.offset||0,this.container=t.container||document.body,this.once=Boolean(t.once),this.observerCollection=t.observerCollection||o,this.activate()}Object.defineProperty(exports,"__esModule",{value:!0}),t.prototype={getState:function(){var t,e,o,i,n=this.container,r=this.lastX,s=this.lastY;return n===document.body?(t=window.innerWidth,e=window.innerHeight,o=window.pageXOffset,i=window.pageYOffset):(t=n.offsetWidth,e=n.offsetHeight,o=n.scrollLeft,i=n.scrollTop),{width:t,height:e,positionX:o,positionY:i,directionX:r<o?"right":r>o?"left":"none",directionY:s<i?"down":s>i?"up":"none"}},destroy:function(){var t=this.handler,e=this.mutationObserver;removeEventListener("scroll",t),removeEventListener("resize",t),e&&e.disconnect()}},e.prototype={activate:function(){var e=this.container,o=this.observerCollection,i=o.viewports,n=i.get(e);n||(n=new t(e,o),i.set(e,n));var r=n.observers;return r.indexOf(this)<0&&r.push(this),n},destroy:function(){var t=this.container,e=this.observerCollection.viewports,o=e.get(t);if(o){var i=o.observers,n=i.indexOf(this);n>-1&&i.splice(n,1),i.length||(o.destroy(),e.delete(t))}}};var o=new function t(e){for(var o=arguments.length,i=Array(o);o--;)i[o]=arguments[o];if(void 0===e&&(e={}),!(this instanceof t))return new(Function.prototype.bind.apply(t,[null].concat(i)));this.viewports=new Map,this.handleScrollResize=e.handleScrollResize};function i(t){for(var o=arguments.length,n=Array(o);o--;)n[o]=arguments[o];if(void 0===t&&(t={}),!(this instanceof i))return new(Function.prototype.bind.apply(i,[null].concat(n)));this.onTop=t.onTop,this.onBottom=t.onBottom,this.onLeft=t.onLeft,this.onRight=t.onRight,this.onMaximized=t.onMaximized,this._wasTop=!0,this._wasBottom=!1,this._wasLeft=!0,this._wasRight=!1;var r=e.call(this,t);this.check(r.getState())}function n(t,o){for(var i=arguments.length,s=Array(i);i--;)s[i]=arguments[i];if(void 0===o&&(o={}),!(this instanceof n))return new(Function.prototype.bind.apply(n,[null].concat(s)));this.element=t,this.onEnter=o.onEnter,this.onExit=o.onExit,this._didEnter=!1;var h=e.call(this,o);r(t)&&this.check(h.getState())}function r(t){return t&&t.parentNode}i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.prototype.check=function(t){var e=this,o=e.onTop,i=e.onBottom,n=e.onLeft,r=e.onRight,s=e.onMaximized,h=e._wasTop,a=e._wasBottom,c=e._wasLeft,l=e._wasRight,d=e.container,f=e.offset,p=e.once,u=d.scrollHeight,v=d.scrollWidth,w=t.width,g=t.height,y=t.positionX,b=t.positionY,m=b-f<=0,_=u>g&&g+b+f>=u,E=y-f<=0,L=v>w&&w+y+f>=v,R=!1;i&&!a&&_?i.call(this,d,t):o&&!h&&m?o.call(this,d,t):r&&!l&&L?r.call(this,d,t):n&&!c&&E?n.call(this,d,t):s&&u===g?s.call(this,d,t):R=!0,p&&!R&&this.destroy(),this._wasTop=m,this._wasBottom=_,this._wasLeft=E,this._wasRight=L},n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.prototype.check=function(t){var e=this.container,o=this.onEnter,i=this.onExit,n=this.element,s=this.offset,h=this.once,a=this._didEnter;if(!r(n))return this.destroy();var c=function(t,e,o,i){var n,r,s,h,a=t.getBoundingClientRect();if(!a.width||!a.height)return!1;var c=window.innerWidth,l=window.innerHeight,d=c;if(i===document.body)n=l,r=0,s=d,h=0;else{if(!(a.top<l&&a.bottom>0&&a.left<d&&a.right>0))return!1;var f=i.getBoundingClientRect();n=f.bottom,r=f.top,s=f.right,h=f.left}return a.top<n+e&&a.bottom>r-e&&a.left<s+e&&a.right>h-e}(n,s,0,e);!a&&c?(this._didEnter=!0,o&&(o.call(this,n,t),h&&this.destroy())):a&&!c&&(this._didEnter=!1,i&&(i.call(this,n,t),h&&this.destroy()))};exports.Reveal=function(){Array.from(document.querySelectorAll(".reveal")).forEach(function(t){console.log(t),new n(t,{})})};